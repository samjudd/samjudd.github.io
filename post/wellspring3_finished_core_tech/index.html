<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Wellspring3: Finished Core Technology | Sam Judd</title><meta name=keywords content><meta name=description content="So it&rsquo;s been a while since I&rsquo;ve last posted, but I&rsquo;m finally back on the grind working on the game so I&rsquo;m back with another update! When I left off about a month ago I had 2 main goals left to finish before I could get started on character design. Those (copy-pasted from my last post below) are now finaly done!
 Character attacking, attack range, and hitpoints, as well as making a target dummy."><meta name=author content="Sam Judd"><link rel=canonical href=https://samjudd.github.io/post/wellspring3_finished_core_tech/><link crossorigin=anonymous href=/assets/css/stylesheet.min.d9015f4cb657fd3539b79b29ffbd11de4175ccd105ad7591beffaadfafb48488.css integrity="sha256-2QFfTLZX/TU5t5sp/70R3kF1zNEFrXWRvv+q36+0hIg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><link rel=icon href=https://samjudd.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://samjudd.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://samjudd.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://samjudd.github.io/apple-touch-icon.png><link rel=mask-icon href=https://samjudd.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><link rel=preconnect href=https://analytics.judd.blue><script defer data-domain=samjudd.github.io src=https://analytics.judd.blue/js/plausible.js></script><script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script><script></script><meta property="og:title" content="Wellspring3: Finished Core Technology"><meta property="og:description" content="So it&rsquo;s been a while since I&rsquo;ve last posted, but I&rsquo;m finally back on the grind working on the game so I&rsquo;m back with another update! When I left off about a month ago I had 2 main goals left to finish before I could get started on character design. Those (copy-pasted from my last post below) are now finaly done!
 Character attacking, attack range, and hitpoints, as well as making a target dummy."><meta property="og:type" content="article"><meta property="og:url" content="https://samjudd.github.io/post/wellspring3_finished_core_tech/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-06-20T13:40:15-07:00"><meta property="article:modified_time" content="2021-06-20T13:40:15-07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Wellspring3: Finished Core Technology"><meta name=twitter:description content="So it&rsquo;s been a while since I&rsquo;ve last posted, but I&rsquo;m finally back on the grind working on the game so I&rsquo;m back with another update! When I left off about a month ago I had 2 main goals left to finish before I could get started on character design. Those (copy-pasted from my last post below) are now finaly done!
 Character attacking, attack range, and hitpoints, as well as making a target dummy."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://samjudd.github.io/post/"},{"@type":"ListItem","position":2,"name":"Wellspring3: Finished Core Technology","item":"https://samjudd.github.io/post/wellspring3_finished_core_tech/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Wellspring3: Finished Core Technology","name":"Wellspring3: Finished Core Technology","description":"So it\u0026rsquo;s been a while since I\u0026rsquo;ve last posted, but I\u0026rsquo;m finally back on the grind working on the game so I\u0026rsquo;m back with another update! When I left off about a month ago I had 2 main goals left to finish before I could get started on character design. Those (copy-pasted from my last post below) are now finaly done!\n Character attacking, attack range, and hitpoints, as well as making a target dummy.","keywords":[],"articleBody":"So it’s been a while since I’ve last posted, but I’m finally back on the grind working on the game so I’m back with another update! When I left off about a month ago I had 2 main goals left to finish before I could get started on character design. Those (copy-pasted from my last post below) are now finaly done!\n Character attacking, attack range, and hitpoints, as well as making a target dummy. Basic UI development for seeing character HP, movement points, turn end button, etc.  I’ll go over what my techncial solutions are for them below and then look ahead a bit to what is coming up as I start character design.\nCharacter Combat The main technical challenge with attacking was allowing for characters with different ranges as well as updating the map tile highlighting system. The way attack ranges are noted is with a list of ranges, so if a character is melee their attack range is [1] whereas an archer would have a list of [2]. A character with a range of 1 hex or 2 hexes then can be noted as [1, 2]. This list is used to find the appropriate hex rings around the character using the Red Blob methodology shown here.\nWith the rings made, I then needed to be able to show them on the map. The most straightforward way to do this was to highlight the tiles you can attack red. Red is a color most people associate with attacking and is what previous similar games (e.g. Fire Emblem, Advance Wars) used for it so players should already understand the design language. I decided that for better clarity if the attack range was red, the movement range should be highlighted blue, with a line preview to show the exact path. I used the Aseprite pixel art editor to add red and blue highlighting to the hex tile borders. I usually like to use Paint.net for this stuff but I am developing on Mac and so Aseprite has been a great alternative. I then just swap out the regular tiles for highlighted ones on the tilemap as needed based on the movement range.\nThe line preview is done using the line creation tools I previously made along with the mouse position. When a character is selected the pathfinding returns a dictionary containing all paths, and this is used to dynamically create the preview.\nHitpoints are pretty straightforward to make, just a class member to store the hitpoints and another to store the attack damage. Then when the character is attacked their OnAttack() function is called and the character being attacked takes the appropriate damage. There are no armor or other damage mitigation mechanics at the moment, though I do have plans to add those kinda things.\nBasic UI Development The goal for this basic UI was just to create an information display so the game is playable. To make the UI I had to learn how to use the Godot UI system. I found these two YouTube videos (shown below) particularly helpful with learning the basics of how all the anchors and containers work.\n Godot 3.2: Let’s Build a 2D Platformer!: Part 12 (Coin HUD, Custom Signals \u0026 Fixing Double-Collect) Introduction to UI Containers in Godot 3 (tutorial)  Once that was done I was able to block out a basic UI. It has a placeholder at the top for showing the characters on your team and a minimap placeholder. Beacuse the game is still basic enough that those aren’t really necessary, I just used placeholders. The only reactive elements are on the bottom left and show hit points (HP), Action Points (AP), and the current turn. As more combat statistics (e.g. armor, spell power, spell resist) are added, they’ll be added to the UI as well. The font used for the UI elements is called Major Mono Display. It’s not the most readable so I’m not sure I’ll keep it forever but it’s fun and I like it so it’s there for now.\nSomething I need to add but have not yet is a turn end button. That said the spacebar can be used for it so it’s not the worst at the moment to not have it.\nGame Manager Upgrades I have a Game Manager class that takes care of things like character selection and managing turn ends and starts. In order to populate the game with characters, I added the functionality to create 10 characters and add them to the map. I ran into an interesting issue where I wanted to create the 10 characters from some Godot scene (.tscn) files. However, in Godot you can’t initialize any member variables if you create nodes this way, and I had some member variables I needed to assign before using the class. I got around this by creating and calling an init() function right after creating the character nodes. However, this function will get called before the Ready() function is called for the class, so the things you can do with this method are limited since nothing is initialized. For just initializing member variables though, this method works great.\nI also updated the game manager to be able to swap between the two teams being the controllable team. This allows 2 people to play the game on one computer using the same screen. When one person’s turn ends the other person’s begins.\nGameplay Video I took a video of the current state of the game! As a note, attacking doesn’t have any animations or anything yet, so it’s basically impossible to tell if someone is attacking. Attacking takes 4 action points, so you can see by watching that bar. Attacking does 10 damage and the red enemies have 20 hitpoints. 2 attacks from the blue team will kill them, upon which point they disappear.\n  Next Steps Now that I have this baseline level of tech, I can get started on the character design, which is what I originally started this for. The goal is to make 5-10 unique playable characters that have high levels of synergies between them. I want this game to be about drafting compositions of characters that work well together and either synergize amongst themselves or counter the enemy team. I’m thinking each character will have one basic ability with a short cooldown and one ultimate ability with a long cooldown. They’ll also be able to basic attack, which is the functionality I’ve already added. As always, thanks for reading and stay tuned for the next post!\n","wordCount":"1088","inLanguage":"en","datePublished":"2021-06-20T13:40:15-07:00","dateModified":"2021-06-20T13:40:15-07:00","author":{"@type":"Person","name":"Sam Judd"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://samjudd.github.io/post/wellspring3_finished_core_tech/"},"publisher":{"@type":"Organization","name":"Sam Judd","logo":{"@type":"ImageObject","url":"https://samjudd.github.io/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: #1d1e20;--entry: #2e2e33;--primary: rgba(255, 255, 255, 0.84);--secondary: rgba(255, 255, 255, 0.56);--tertiary: rgba(255, 255, 255, 0.16);--content: rgba(255, 255, 255, 0.74);--hljs-bg: #2e2e33;--code-bg: #37383e;--border: #333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://samjudd.github.io/ accesskey=h title="Sam Judd (Alt + H)">Sam Judd</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Wellspring3: Finished Core Technology</h1><div class=post-meta>June 20, 2021&nbsp;·&nbsp;Sam Judd</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#character-combat aria-label="Character Combat">Character Combat</a></li><li><a href=#basic-ui-development aria-label="Basic UI Development">Basic UI Development</a></li><li><a href=#game-manager-upgrades aria-label="Game Manager Upgrades">Game Manager Upgrades</a></li><li><a href=#gameplay-video aria-label="Gameplay Video">Gameplay Video</a></li><li><a href=#next-steps aria-label="Next Steps">Next Steps</a></li></ul></div></details></div><div class=post-content><p>So it&rsquo;s been a while since I&rsquo;ve last posted, but I&rsquo;m finally back on the grind working on the game so I&rsquo;m back with another update!
When I left off about a month ago I had 2 main goals left to finish before I could get started on character design.
Those (copy-pasted from my last post below) are now finaly done!</p><ol><li>Character attacking, attack range, and hitpoints, as well as making a target dummy.</li><li>Basic UI development for seeing character HP, movement points, turn end button, etc.</li></ol><p>I&rsquo;ll go over what my techncial solutions are for them below and then look ahead a bit to what is coming up as I start character design.</p><h2 id=character-combat>Character Combat<a hidden class=anchor aria-hidden=true href=#character-combat>#</a></h2><p>The main technical challenge with attacking was allowing for characters with different ranges as well as updating the map tile highlighting system.
The way attack ranges are noted is with a list of ranges, so if a character is melee their attack range is <code>[1]</code> whereas an archer would have a list of <code>[2]</code>.
A character with a range of 1 hex or 2 hexes then can be noted as <code>[1, 2]</code>.
This list is used to find the appropriate hex rings around the character using the Red Blob methodology shown <a href=https://www.redblobgames.com/grids/hexagons/#rings>here</a>.</p><p>With the rings made, I then needed to be able to show them on the map.
The most straightforward way to do this was to highlight the tiles you can attack red.
Red is a color most people associate with attacking and is what previous similar games (e.g. Fire Emblem, Advance Wars) used for it so players should already understand the design language.
I decided that for better clarity if the attack range was red, the movement range should be highlighted blue, with a line preview to show the exact path.
I used the <a href=https://www.aseprite.org>Aseprite</a> pixel art editor to add red and blue highlighting to the hex tile borders.
I usually like to use <a href=https://www.getpaint.net>Paint.net</a> for this stuff but I am developing on Mac and so Aseprite has been a great alternative.
I then just swap out the regular tiles for highlighted ones on the tilemap as needed based on the movement range.</p><p>The line preview is done using the line creation tools I previously made along with the mouse position.
When a character is selected the pathfinding returns a dictionary containing all paths, and this is used to dynamically create the preview.</p><p>Hitpoints are pretty straightforward to make, just a class member to store the hitpoints and another to store the attack damage.
Then when the character is attacked their <code>OnAttack()</code> function is called and the character being attacked takes the appropriate damage.
There are no armor or other damage mitigation mechanics at the moment, though I do have plans to add those kinda things.</p><h2 id=basic-ui-development>Basic UI Development<a hidden class=anchor aria-hidden=true href=#basic-ui-development>#</a></h2><p>The goal for this basic UI was just to create an information display so the game is playable.
To make the UI I had to learn how to use the Godot UI system.
I found these two YouTube videos (shown below) particularly helpful with learning the basics of how all the anchors and containers work.</p><ol><li><a href="https://www.youtube.com/watch?v=XITNApxoIes&t=630s">Godot 3.2: Let&rsquo;s Build a 2D Platformer!: Part 12 (Coin HUD, Custom Signals & Fixing Double-Collect)</a></li><li><a href="https://www.youtube.com/watch?v=YL8apqN6IJM&t=344s">Introduction to UI Containers in Godot 3 (tutorial)</a></li></ol><p>Once that was done I was able to block out a basic UI.
It has a placeholder at the top for showing the characters on your team and a minimap placeholder.
Beacuse the game is still basic enough that those aren&rsquo;t really necessary, I just used placeholders.
The only reactive elements are on the bottom left and show hit points (HP), Action Points (AP), and the current turn.
As more combat statistics (e.g. armor, spell power, spell resist) are added, they&rsquo;ll be added to the UI as well.
The font used for the UI elements is called <a href=https://fonts.google.com/specimen/Major+Mono+Display>Major Mono Display</a>.
It&rsquo;s not the most readable so I&rsquo;m not sure I&rsquo;ll keep it forever but it&rsquo;s fun and I like it so it&rsquo;s there for now.</p><p><img loading=lazy src=/wellspring3_finished_core_tech/wellspring3_ui.png#center alt="Wellspring3 Basic UI"></p><p>Something I need to add but have not yet is a turn end button.
That said the spacebar can be used for it so it&rsquo;s not the worst at the moment to not have it.</p><h2 id=game-manager-upgrades>Game Manager Upgrades<a hidden class=anchor aria-hidden=true href=#game-manager-upgrades>#</a></h2><p>I have a <code>Game Manager</code> class that takes care of things like character selection and managing turn ends and starts.
In order to populate the game with characters, I added the functionality to create 10 characters and add them to the map.
I ran into an interesting issue where I wanted to create the 10 characters from some Godot scene (<code>.tscn</code>) files.
However, in Godot you can&rsquo;t initialize any member variables if you create nodes this way, and I had some member variables I needed to assign before using the class.
I got around this by creating and calling an <code>init()</code> function right after creating the character nodes.
However, this function will get called before the <code>Ready()</code> function is called for the class, so the things you can do with this method are limited since nothing is initialized.
For just initializing member variables though, this method works great.</p><p>I also updated the game manager to be able to swap between the two teams being the controllable team.
This allows 2 people to play the game on one computer using the same screen.
When one person&rsquo;s turn ends the other person&rsquo;s begins.</p><h2 id=gameplay-video>Gameplay Video<a hidden class=anchor aria-hidden=true href=#gameplay-video>#</a></h2><p>I took a video of the current state of the game!
As a note, attacking doesn&rsquo;t have any animations or anything yet, so it&rsquo;s basically impossible to tell if someone is attacking.
Attacking takes 4 action points, so you can see by watching that bar.
Attacking does 10 damage and the red enemies have 20 hitpoints.
2 attacks from the blue team will kill them, upon which point they disappear.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/LiQASfYhTJU style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=next-steps>Next Steps<a hidden class=anchor aria-hidden=true href=#next-steps>#</a></h2><p>Now that I have this baseline level of tech, I can get started on the character design, which is what I originally started this for.
The goal is to make 5-10 unique playable characters that have high levels of synergies between them.
I want this game to be about drafting compositions of characters that work well together and either synergize amongst themselves or counter the enemy team.
I&rsquo;m thinking each character will have one basic ability with a short cooldown and one ultimate ability with a long cooldown.
They&rsquo;ll also be able to basic attack, which is the functionality I&rsquo;ve already added.
As always, thanks for reading and stay tuned for the next post!</p></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://samjudd.github.io/>Sam Judd</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu')
menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>